.app-shell {
  min-height: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0.45rem;
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.app-header,
.toolbar,
.service-pane,
.error-banner,
.menu-content,
.status-line {
  border: 1px solid var(--stroke);
  border-radius: 10px;
  background: var(--panel-bg);
  box-shadow: var(--shadow);
}

.app-header {
  padding: 0.45rem 0.55rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.55rem;
  background: var(--panel-bg-strong);
}

.title-block {
  min-width: 0;
}

.eyebrow {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--eyebrow-color);
  font-size: 0.62rem;
  font-weight: 700;
}

h1 {
  margin: 0.08rem 0 0;
  font-size: 1rem;
  font-family: 'Sora', 'Urbanist', sans-serif;
  font-weight: 700;
  line-height: 1.15;
  color: var(--text);
}

.menu-panel {
  position: relative;
}

.menu-panel summary {
  list-style: none;
  display: flex;
  align-items: center;
}

.menu-panel summary::-webkit-details-marker {
  display: none;
}

.menu-summary {
  min-height: 1.9rem;
  padding: 0 0.68rem;
  font-size: 0.78rem;
}

.menu-content {
  position: absolute;
  right: 0;
  top: calc(100% + 0.3rem);
  width: min(92vw, 370px);
  padding: 0.6rem;
  z-index: 20;
  background: var(--menu-bg);
}

.menu-title {
  margin: 0;
  font-weight: 700;
  color: var(--menu-title-color);
  font-size: 0.9rem;
}

.subtle-text {
  margin: 0.2rem 0 0.5rem;
  color: var(--subtle-color);
  font-size: 0.75rem;
}

.theme-toggle {
  margin: 0 0 0.45rem;
  display: inline-flex;
  gap: 0.45rem;
  align-items: center;
  font-size: 0.74rem;
  font-weight: 600;
  color: var(--text);
}

.theme-toggle input {
  margin: 0;
}

.auth-panel {
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.auth-meta {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.user-name,
.user-email,
.helper-text,
.date-label {
  margin: 0;
}

.user-name {
  font-size: 0.84rem;
  font-weight: 700;
  color: var(--user-name-color);
}

.user-email,
.helper-text {
  color: var(--user-email-color);
  font-size: 0.71rem;
}

.auth-controls {
  display: flex;
  gap: 0.35rem;
  align-items: end;
}

.field-inline {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  color: var(--text-muted);
  font-size: 0.73rem;
}

.field-inline input {
  height: 1.9rem;
  border-radius: 7px;
  border: 1px solid var(--stroke);
  padding: 0 0.5rem;
  color: var(--input-text);
  background: var(--input-bg);
}

.field-inline-pin {
  flex: 1;
}

.field-inline-pin input {
  width: 100%;
  text-align: center;
  letter-spacing: 0.28em;
}

.primary-btn,
.ghost-btn {
  border: 1px solid transparent;
  border-radius: 7px;
  min-height: 1.9rem;
  padding: 0 0.68rem;
  font-weight: 700;
  font-size: 0.74rem;
  cursor: pointer;
}

.primary-btn {
  background: var(--accent);
  color: #fff;
}

.primary-btn:hover {
  background: var(--accent-strong);
}

.primary-btn:disabled {
  opacity: 0.72;
  cursor: progress;
}

.ghost-btn {
  background: var(--ghost-bg);
  border-color: var(--stroke);
  color: var(--ghost-text);
}

.ghost-btn:hover {
  border-color: color-mix(in oklab, var(--accent), transparent 20%);
}

.status-line {
  margin: 0;
  padding: 0.4rem 0.48rem;
  font-size: 0.7rem;
  color: var(--status-text);
  border-radius: 8px;
  background: var(--status-bg);
}

.status-line-menu {
  margin-top: 0.2rem;
}

.toolbar {
  padding: 0.35rem 0.45rem;
}

.toolbar-line {
  display: flex;
  gap: 0.35rem;
  align-items: center;
  flex-wrap: nowrap;
  overflow-x: auto;
  scrollbar-width: thin;
}

.compact-btn {
  min-height: 1.86rem;
  white-space: nowrap;
}

.field-inline-date input {
  width: 8.6rem;
}

.compact-checkbox {
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--text);
  font-size: 0.72rem;
}

.date-label {
  white-space: nowrap;
  color: var(--accent);
  font-size: 0.72rem;
  font-weight: 700;
}

.error-banner {
  margin: 0;
  padding: 0.5rem 0.58rem;
  color: var(--error-text);
  background: var(--error-bg);
  border-color: var(--error-border);
  font-size: 0.75rem;
}

.service-grid {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
  gap: 0.45rem;
}

.service-pane {
  min-height: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--pane-bg);
}

.pane-header {
  margin: 0;
  padding: 0.46rem 0.52rem;
  border-bottom: 1px solid var(--stroke);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  background: var(--pane-header-bg);
  z-index: 1;
}

.pane-header h2 {
  margin: 0;
  font-family: 'Sora', 'Urbanist', sans-serif;
  font-size: 0.87rem;
  letter-spacing: 0.01em;
  color: var(--pane-title);
}

.pane-header span {
  font-size: 0.74rem;
  font-weight: 700;
  color: var(--pane-count);
}

.pane-list {
  overflow-y: auto;
  min-height: 0;
  max-height: calc(100vh - 154px);
  padding: 0.4rem;
  display: flex;
  flex-direction: column;
  gap: 0.34rem;
}

.service-item {
  border: 1px solid var(--item-border);
  border-radius: 8px;
  background: var(--item-bg);
  padding: 0.4rem 0.45rem;
  display: flex;
  flex-direction: column;
  gap: 0.18rem;
}

.service-item.is-done {
  opacity: 0.73;
}

.service-item.is-done .item-name,
.service-item.is-done .item-subline,
.service-item.is-done .item-carline,
.service-item.is-done .item-location,
.service-item.is-done .item-note {
  text-decoration: line-through;
  text-decoration-thickness: 2px;
  text-decoration-color: var(--line-through);
}

.item-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.35rem;
}

.item-head-main {
  display: inline-flex;
  align-items: baseline;
  gap: 0.38rem;
}

.item-time {
  font-size: 1rem;
  font-weight: 800;
  color: var(--item-primary);
  letter-spacing: 0.01em;
}

.item-service-type {
  font-size: 0.62rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  color: var(--item-service);
}

.item-check {
  display: inline-flex;
  gap: 0.24rem;
  align-items: center;
  color: var(--item-check);
  font-size: 0.68rem;
}

.item-name,
.item-subline,
.item-carline,
.item-location,
.item-note,
.item-footer {
  margin: 0;
}

.item-name {
  font-size: 0.91rem;
  line-height: 1.18;
  font-weight: 700;
  color: var(--item-primary);
}

.item-subline {
  display: flex;
  flex-wrap: wrap;
  gap: 0.22rem 0.5rem;
  font-size: 0.72rem;
  color: var(--item-secondary);
}

.item-carline {
  font-size: 0.74rem;
  font-weight: 600;
  color: var(--item-primary);
}

.item-location {
  font-size: 0.74rem;
  color: var(--item-meta);
}

.item-note {
  font-size: 0.69rem;
  color: var(--item-note);
  white-space: pre-wrap;
}

.item-note-highlight,
.item-note-extra {
  display: inline-block;
  max-width: 100%;
  background: var(--note-highlight-bg);
  color: var(--note-highlight-text);
  padding: 0.08rem 0.26rem;
  border-radius: 4px;
  font-weight: 700;
}

.item-footer {
  border-top: 1px dashed color-mix(in oklab, var(--accent), transparent 58%);
  padding-top: 0.17rem;
  font-size: 0.64rem;
  color: var(--item-footer);
}

.empty-state {
  margin: 0;
  padding: 0.44rem;
  color: var(--text-muted);
  font-size: 0.76rem;
}

@media (max-width: 780px) {
  .app-shell {
    padding: 0.34rem;
    gap: 0.34rem;
  }

  .field-inline-date input {
    width: 7.7rem;
  }

  .pane-list {
    max-height: calc(100vh - 165px);
    padding: 0.32rem;
    gap: 0.3rem;
  }

  .service-item {
    padding: 0.34rem 0.38rem;
  }

  .item-name {
    font-size: 0.87rem;
  }

  .item-time {
    font-size: 0.95rem;
  }
}
